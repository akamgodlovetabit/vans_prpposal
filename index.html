<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Heart's Question üíò | CodexAG</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
    /* ===== MOBILE-FIRST RESPONSIVE STYLES ===== */
    
    /* Base mobile styles */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
    }

    :root {
        --primary-pink: #ff4d8d;
        --secondary-pink: #ff85a2;
        --dark-pink: #e91e63;
        --light-pink: #ffc2d1;
        --gold: #ffd700;
        --rose-gold: #b76e79;
        --whatsapp-green: #25D366;
        --white: #fff;
        --card-bg: rgba(255, 255, 255, 0.98);
        --text-dark: #333;
        --text-medium: #555;
        --safe-area-inset-top: env(safe-area-inset-top, 0px);
        --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
    }

    html {
        font-size: 16px;
        -webkit-text-size-adjust: 100%;
    }

    body {
        font-family: 'Poppins', sans-serif;
        min-height: 100vh;
        min-height: -webkit-fill-available;
        background: linear-gradient(135deg, #ffc2d1 0%, #ffafcc 25%, #ff8fab 50%, #fb6f92 75%, #f72585 100%);
        background-attachment: fixed;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow-x: hidden;
        padding: 0;
        margin: 0;
        position: relative;
    }

    /* Container for mobile */
    .container {
        width: 100%;
        max-width: 100%;
        padding: 0 15px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        gap: 20px;
        position: relative;
        z-index: 10;
    }

    /* Mobile header */
    .header {
        width: 100%;
        text-align: center;
        color: white;
        padding: 20px 15px;
        background: rgba(255, 255, 255, 0.15);
        backdrop-filter: blur(10px);
        border-radius: 20px;
        margin-top: 10px;
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    }

    .header h1 {
        font-family: 'Dancing Script', cursive;
        font-size: 2.2rem;
        margin-bottom: 10px;
        line-height: 1.2;
        background: linear-gradient(to right, var(--white), var(--light-pink));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .header p {
        font-size: 1rem;
        font-weight: 300;
        opacity: 0.9;
        line-height: 1.5;
        margin: 0 auto;
        max-width: 90%;
    }

    /* Mobile proposal card */
    .proposal-card {
        width: 100%;
        background: var(--card-bg);
        border-radius: 20px;
        padding: 25px 20px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        border: 1px solid rgba(255, 255, 255, 0.3);
        text-align: center;
        position: relative;
        margin-bottom: 20px;
        -webkit-backdrop-filter: blur(10px);
        backdrop-filter: blur(10px);
    }

    .card-content {
        width: 100%;
        position: relative;
    }

    /* Mobile question section */
    .question {
        margin-bottom: 25px;
    }

    .question h2 {
        font-family: 'Dancing Script', cursive;
        font-size: 1.8rem;
        color: var(--dark-pink);
        margin-bottom: 15px;
        line-height: 1.3;
        padding: 0 10px;
    }

    .question p {
        font-size: 1rem;
        color: var(--text-medium);
        line-height: 1.6;
        margin-bottom: 20px;
        padding: 0 5px;
    }

    .love-letter {
        background: linear-gradient(135deg, rgba(255, 245, 250, 0.95), rgba(255, 230, 240, 0.95));
        border-radius: 15px;
        padding: 20px;
        margin: 20px 0;
        border-left: 4px solid var(--primary-pink);
        text-align: left;
        font-style: italic;
        line-height: 1.6;
        color: var(--text-medium);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        font-size: 0.95rem;
    }

    .signature {
        text-align: right;
        font-family: 'Dancing Script', cursive;
        font-size: 1.4rem;
        color: var(--dark-pink);
        margin-top: 15px;
    }

    /* Mobile buttons */
    .buttons-container {
        display: flex;
        flex-direction: column;
        gap: 15px;
        width: 100%;
        margin-top: 25px;
        align-items: center;
    }

    .btn {
        width: 100%;
        max-width: 300px;
        padding: 18px 30px;
        border: none;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        position: relative;
        overflow: hidden;
        -webkit-appearance: none;
        touch-action: manipulation;
        min-height: 56px;
    }

    .btn::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.1);
        opacity: 0;
        transition: opacity 0.3s;
    }

    .btn:active::after {
        opacity: 1;
    }

    .btn-yes {
        background: linear-gradient(135deg, var(--primary-pink), var(--dark-pink));
        color: var(--white);
    }

    .btn-no {
        background: linear-gradient(135deg, #666, #888);
        color: var(--white);
    }

    /* Mobile progress bar */
    .progress-container {
        width: 100%;
        height: 8px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 4px;
        margin-top: 15px;
        overflow: hidden;
        display: none;
    }

    .progress-bar {
        height: 100%;
        width: 0%;
        background: linear-gradient(90deg, var(--primary-pink), var(--secondary-pink), var(--gold));
        border-radius: 4px;
        transition: width 0.3s ease;
    }

    /* Mobile share buttons */
    .share-container {
        display: flex;
        flex-direction: column;
        gap: 12px;
        width: 100%;
        margin-top: 20px;
        align-items: center;
    }

    .share-btn {
        width: 100%;
        max-width: 280px;
        padding: 16px 25px;
        border-radius: 50px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        border: none;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        -webkit-appearance: none;
        touch-action: manipulation;
        min-height: 52px;
    }

    .share-whatsapp {
        background: linear-gradient(135deg, var(--whatsapp-green), #128C7E);
        color: var(--white);
    }

    .share-other {
        background: linear-gradient(135deg, #6c757d, #495057);
        color: var(--white);
    }

    /* Mobile popups */
    .popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        padding: 20px;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .popup.active {
        opacity: 1;
        visibility: visible;
    }

    .popup-content {
        background: var(--white);
        border-radius: 20px;
        padding: 25px 20px;
        width: 100%;
        max-width: 400px;
        text-align: center;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        transform: scale(0.9);
        transition: transform 0.3s ease;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
    }

    .popup.active .popup-content {
        transform: scale(1);
    }

    .popup h2 {
        font-family: 'Dancing Script', cursive;
        font-size: 2.2rem;
        color: var(--dark-pink);
        margin-bottom: 15px;
        line-height: 1.2;
    }

    .popup p {
        color: var(--text-medium);
        font-size: 1rem;
        line-height: 1.6;
        margin-bottom: 20px;
    }

    .popup-btn {
        background: linear-gradient(135deg, var(--primary-pink), var(--dark-pink));
        color: var(--white);
        border: none;
        padding: 16px 30px;
        border-radius: 50px;
        font-size: 1.1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 6px 20px rgba(255, 77, 141, 0.3);
        margin-top: 15px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        width: 100%;
        max-width: 280px;
        -webkit-appearance: none;
        touch-action: manipulation;
        min-height: 52px;
    }

    /* Mobile utility elements */
    .counter {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 77, 141, 0.9);
        color: var(--white);
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 0.8rem;
        display: none;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        z-index: 3;
    }

    .date-display {
        position: fixed;
        top: max(15px, var(--safe-area-inset-top));
        left: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.2);
        color: var(--white);
        padding: 8px 15px;
        border-radius: 15px;
        font-size: 0.75rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        z-index: 100;
        text-align: center;
        margin: 0 auto;
        max-width: calc(100% - 30px);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .instructions {
        position: fixed;
        bottom: max(15px, var(--safe-area-inset-bottom));
        left: 15px;
        right: 15px;
        background: rgba(0, 0, 0, 0.2);
        color: var(--white);
        padding: 10px 15px;
        border-radius: 15px;
        font-size: 0.75rem;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        z-index: 100;
        text-align: center;
        margin: 0 auto;
        max-width: calc(100% - 30px);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        line-height: 1.4;
    }

    .music-toggle {
        position: fixed;
        bottom: max(80px, calc(var(--safe-area-inset-bottom) + 80px));
        right: 20px;
        width: 50px;
        height: 50px;
        background: var(--primary-pink);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: var(--white);
        font-size: 1.2rem;
        cursor: pointer;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
        z-index: 100;
        transition: all 0.3s ease;
        -webkit-appearance: none;
        touch-action: manipulation;
    }

    .developer-credit {
        text-align: center;
        color: rgba(255, 255, 255, 0.8);
        font-size: 0.8rem;
        margin-top: 10px;
        width: 100%;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.15);
        border-radius: 15px;
        backdrop-filter: blur(5px);
        line-height: 1.5;
    }

    .developer-credit a {
        color: var(--gold);
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s ease;
    }

    .developer-credit a:active {
        color: var(--white);
        opacity: 0.8;
    }

    /* Mobile animations */
    @keyframes heartbeat {
        0% { transform: scale(1); }
        50% { transform: scale(1.1); }
        100% { transform: scale(1); }
    }

    .heartbeat {
        animation: heartbeat 1.5s ease infinite;
        display: inline-block;
    }

    /* Mobile share popup */
    .share-popup {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        padding: 20px;
        overflow-y: auto;
        -webkit-overflow-scrolling: touch;
    }

    .share-popup.active {
        opacity: 1;
        visibility: visible;
    }

    .share-popup-content {
        background: var(--white);
        border-radius: 20px;
        padding: 25px 20px;
        width: 100%;
        max-width: 400px;
        text-align: center;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        transform: scale(0.9);
        transition: transform 0.3s ease;
        max-height: 90vh;
        overflow-y: auto;
    }

    .share-popup.active .share-popup-content {
        transform: scale(1);
    }

    .share-popup h3 {
        font-family: 'Dancing Script', cursive;
        font-size: 1.8rem;
        color: var(--dark-pink);
        margin-bottom: 15px;
    }

    .share-options {
        display: flex;
        flex-direction: column;
        gap: 12px;
        margin-top: 20px;
    }

    .copy-link {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 15px;
    }

    .copy-link input {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid #ddd;
        border-radius: 10px;
        font-size: 0.9rem;
        -webkit-appearance: none;
    }

    .copy-link button {
        background: var(--primary-pink);
        color: var(--white);
        border: none;
        padding: 14px 20px;
        border-radius: 10px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        -webkit-appearance: none;
        touch-action: manipulation;
    }

    /* Mobile background elements (reduced for performance) */
    .romantic-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
    }

    .floating-heart {
        position: absolute;
        font-size: 20px;
        color: rgba(255, 255, 255, 0.4);
        animation: floatHeart 8s linear infinite;
        z-index: 1;
    }

    @keyframes floatHeart {
        0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
        10% { opacity: 0.6; }
        90% { opacity: 0.6; }
        100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }

    /* Mobile-specific optimizations */
    @media (max-width: 480px) {
        .container {
            padding: 0 12px;
            gap: 15px;
        }
        
        .header {
            padding: 18px 12px;
            margin-top: 5px;
        }
        
        .header h1 {
            font-size: 1.9rem;
        }
        
        .proposal-card {
            padding: 22px 18px;
            border-radius: 18px;
        }
        
        .question h2 {
            font-size: 1.6rem;
        }
        
        .love-letter {
            padding: 18px;
            font-size: 0.9rem;
        }
        
        .btn {
            padding: 16px 25px;
            font-size: 1rem;
            min-height: 52px;
        }
        
        .share-btn {
            padding: 14px 22px;
            font-size: 0.95rem;
            min-height: 48px;
        }
        
        .popup-content,
        .share-popup-content {
            padding: 22px 18px;
        }
        
        .popup h2 {
            font-size: 1.9rem;
        }
        
        .date-display,
        .instructions {
            font-size: 0.7rem;
            padding: 7px 12px;
        }
        
        .music-toggle {
            width: 48px;
            height: 48px;
            font-size: 1.1rem;
            bottom: max(70px, calc(var(--safe-area-inset-bottom) + 70px));
        }
    }

    @media (max-width: 360px) {
        .header h1 {
            font-size: 1.7rem;
        }
        
        .question h2 {
            font-size: 1.4rem;
        }
        
        .love-letter {
            padding: 15px;
            font-size: 0.85rem;
        }
        
        .btn {
            padding: 14px 22px;
            font-size: 0.95rem;
        }
        
        .share-btn {
            padding: 12px 20px;
            font-size: 0.9rem;
        }
        
        .popup h2 {
            font-size: 1.7rem;
        }
        
        .date-display,
        .instructions {
            font-size: 0.65rem;
        }
    }

    /* Landscape mode adjustments */
    @media (max-height: 600px) and (orientation: landscape) {
        .container {
            min-height: auto;
            padding: 10px;
        }
        
        .header {
            padding: 12px;
            margin-top: 0;
        }
        
        .header h1 {
            font-size: 1.6rem;
            margin-bottom: 5px;
        }
        
        .proposal-card {
            padding: 18px 15px;
            margin-bottom: 10px;
        }
        
        .love-letter {
            padding: 12px;
            font-size: 0.85rem;
            margin: 12px 0;
        }
        
        .buttons-container {
            margin-top: 15px;
            gap: 10px;
        }
        
        .btn {
            padding: 12px 20px;
            font-size: 0.95rem;
            min-height: 46px;
        }
        
        .date-display,
        .instructions {
            position: relative;
            top: auto;
            bottom: auto;
            left: auto;
            right: auto;
            margin: 5px auto;
            width: 90%;
        }
        
        .music-toggle {
            bottom: 20px;
            right: 20px;
        }
    }

    /* Safe area support for iPhone X and newer */
    @supports (padding: max(0px)) {
        .container {
            padding-left: max(15px, env(safe-area-inset-left));
            padding-right: max(15px, env(safe-area-inset-right));
        }
    }

    /* Reduced motion preference */
    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
        
        .heartbeat {
            animation: none;
        }
    }

    /* Dark mode support */
    @media (prefers-color-scheme: dark) {
        .proposal-card {
            background: rgba(30, 30, 30, 0.95);
            color: #f0f0f0;
        }
        
        .question p {
            color: #ccc;
        }
        
        .love-letter {
            background: rgba(40, 40, 40, 0.9);
            color: #ddd;
        }
    }
</style>
</head>
<body>
    <!-- Romantic background elements -->
    <div class="romantic-bg" id="romanticBg"></div>

    <!-- Date display -->
    <div class="date-display">
        <i class="fas fa-calendar-heart"></i> 
        <span id="currentDate"></span> ‚Ä¢ Valentine's Week üíò
    </div>

    <!-- Instructions -->
    <div class="instructions">
        <i class="fas fa-lightbulb"></i> 
        <strong>Tip:</strong> Hold the "Yes" button for a romantic surprise!
    </div>

    <!-- Main container -->
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>My Heart's Question for You üíò</h1>
            <p>Every moment with you feels like a beautiful dream I never want to wake up from</p>
        </div>

        <!-- Proposal Card -->
        <div class="proposal-card">
            <div class="counter" id="counter">Tries: 0</div>
            
            <div class="card-content">
                <div class="question">
                    <h2>Will you be my Valentine? <span class="heartbeat">üíù</span></h2>
                    <p>From the moment we met, you've filled my life with joy, laughter, and love beyond measure.</p>
                    
                    <div class="love-letter">
                        <p>My dearest,</p>
                        <p>There are no words that can fully express how much you mean to me. Every day with you is a gift, every smile you share lights up my world, and every moment we spend together becomes my favorite memory.</p>
                        <p>You are the missing piece I never knew I was searching for, the harmony to my melody, and the answer to prayers I didn't even know how to speak.</p>
                        <p>On this special day dedicated to love, I want to ask you the most important question of my life...</p>
                        <div class="signature">With all my love,</div>
                    </div>
                    
                    <p>So, my love, will you make me the happiest person and be my Valentine?</p>
                </div>

                <div class="buttons-container">
                    <button class="btn btn-yes love-pulse" id="yesBtn">
                        <i class="fas fa-heart"></i> Yes, Forever and Always!
                    </button>
                    <button class="btn btn-no" id="noBtn">
                        <i class="fas fa-smile-wink"></i> No, Maybe?
                    </button>
                </div>
                
                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar"></div>
                </div>

                <!-- Share buttons in main card -->
                <div class="share-container" id="mainShareContainer">
                    <button class="share-btn share-whatsapp" id="shareWhatsApp">
                        <i class="fab fa-whatsapp"></i> Share on WhatsApp
                    </button>
                    <button class="share-btn share-other" id="shareOther">
                        <i class="fas fa-share-alt"></i> Share with Friends
                    </button>
                </div>
            </div>
        </div>

        <!-- Developer credit -->
        <div class="developer-credit">
            Created with <i class="fas fa-heart" style="color: #ff4d8d;"></i> by 
            <a href="javascript:void(0)" onclick="showDeveloperInfo()">CodexAG</a> ‚Ä¢ 
            Spread love, not just today but every day üíï
        </div>
    </div>

    <!-- Music toggle -->
    <div class="music-toggle" id="musicToggle">
        <i class="fas fa-music"></i>
    </div>

    <!-- Main Popup -->
    <div class="popup" id="popup">
        <div class="popup-content">
            <h2>You Said Yes! <span class="heartbeat">üíñ</span></h2>
            <p>My heart is overflowing with joy! You've just made this the happiest day of my life.</p>
            <p>I promise to cherish you, respect you, and love you more with each passing day. Together, we'll create countless beautiful memories and build a future filled with laughter and love.</p>
            <p>Thank you for choosing me, for believing in us, and for saying yes to this beautiful journey ahead.</p>
            <p>Happy Valentine's Day, my love! This is just the beginning of our forever. üåπ</p>
            
            <div class="share-container">
                <button class="share-btn share-whatsapp" id="popupShareWhatsApp">
                    <i class="fab fa-whatsapp"></i> Share on WhatsApp
                </button>
                <button class="share-btn share-other" id="popupShareOther">
                    <i class="fas fa-share-alt"></i> Share this Moment
                </button>
            </div>
            
            <button class="popup-btn" id="closePopup">
                <i class="fas fa-heart"></i> Let's Celebrate Our Love!
            </button>
        </div>
    </div>

    <!-- Share Popup -->
    <div class="share-popup" id="sharePopup">
        <div class="share-popup-content">
            <h3>Share the Love! üíå</h3>
            <p>Spread this romantic proposal with your friends and loved ones!</p>
            
            <div class="share-options">
                <button class="share-btn share-whatsapp" id="directWhatsApp">
                    <i class="fab fa-whatsapp"></i> Share on WhatsApp
                </button>
                
                <button class="share-btn share-other" onclick="shareOnFacebook()">
                    <i class="fab fa-facebook"></i> Share on Facebook
                </button>
                
                <button class="share-btn share-other" onclick="shareOnTwitter()">
                    <i class="fab fa-twitter"></i> Share on Twitter
                </button>
                
                <div class="copy-link">
                    <input type="text" id="shareLink" value="https://codexag.com/romantic-proposal" readonly>
                    <button onclick="copyShareLink()">
                        <i class="fas fa-copy"></i> Copy Link
                    </button>
                </div>
            </div>
            
            <button class="popup-btn" id="closeSharePopup" style="margin-top: 25px;">
                <i class="fas fa-times"></i> Close
            </button>
        </div>
    </div>

    <!-- Audio for romantic music -->
    <audio id="romanticMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-loving-you-117.mp3" type="audio/mpeg">
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current date
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('currentDate').textContent = now.toLocaleDateString('en-US', options);

            // Create romantic background elements
            const romanticBg = document.getElementById('romanticBg');
            const heartIcons = ['üíñ', 'üíó', 'üíì', 'üíò', 'üíù', 'üíï'];
            const flowerIcons = ['üåπ', 'üå∑', 'üå∏', 'üíê', 'ü•Ä'];
            
            // Calculate number of floating elements based on screen size
            const screenArea = window.innerWidth * window.innerHeight;
            const elementCount = Math.min(Math.floor(screenArea / 20000), 30);
            
            for (let i = 0; i < elementCount; i++) {
                // Create floating hearts
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = heartIcons[Math.floor(Math.random() * heartIcons.length)];
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.fontSize = (Math.random() * 25 + 15) + 'px';
                heart.style.animationDuration = (Math.random() * 10 + 8) + 's';
                heart.style.animationDelay = Math.random() * 5 + 's';
                romanticBg.appendChild(heart);
                
                // Create floating roses (less frequent)
                if (i % 4 === 0) {
                    const rose = document.createElement('div');
                    rose.className = 'floating-rose';
                    rose.innerHTML = flowerIcons[Math.floor(Math.random() * flowerIcons.length)];
                    rose.style.left = Math.random() * 100 + 'vw';
                    rose.style.fontSize = (Math.random() * 20 + 20) + 'px';
                    rose.style.animationDuration = (Math.random() * 12 + 10) + 's';
                    rose.style.animationDelay = Math.random() * 6 + 's';
                    romanticBg.appendChild(rose);
                }
                
                // Create floating stars (even less frequent)
                if (i % 5 === 0) {
                    const star = document.createElement('div');
                    star.className = 'floating-star';
                    star.innerHTML = '‚ú®';
                    star.style.left = Math.random() * 100 + 'vw';
                    star.style.fontSize = (Math.random() * 15 + 10) + 'px';
                    star.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    star.style.animationDelay = Math.random() * 3 + 's';
                    romanticBg.appendChild(star);
                }
            }

            // Elements
            const yesBtn = document.getElementById('yesBtn');
            const noBtn = document.getElementById('noBtn');
            const popup = document.getElementById('popup');
            const sharePopup = document.getElementById('sharePopup');
            const closePopupBtn = document.getElementById('closePopup');
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            const counter = document.getElementById('counter');
            const musicToggle = document.getElementById('musicToggle');
            const romanticMusic = document.getElementById('romanticMusic');
            
            // Share buttons
            const shareWhatsAppBtns = document.querySelectorAll('.share-whatsapp');
            const shareOtherBtns = document.querySelectorAll('.share-other');
            const directWhatsAppBtn = document.getElementById('directWhatsApp');
            const closeSharePopupBtn = document.getElementById('closeSharePopup');
            
            let noClicks = 0;
            let yesProgress = 0;
            let isYesHolding = false;
            let musicPlaying = false;
            
            // Initialize romantic music with user interaction
            document.addEventListener('click', function initMusic() {
                if (!musicPlaying && romanticMusic) {
                    romanticMusic.volume = 0.3;
                    romanticMusic.play().then(() => {
                        musicPlaying = true;
                        musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                    }).catch(e => {
                        console.log("Audio play failed:", e);
                    });
                }
                document.removeEventListener('click', initMusic);
            });
            
            // Music toggle
            musicToggle.addEventListener('click', function() {
                if (!romanticMusic) return;
                
                if (musicPlaying) {
                    romanticMusic.pause();
                    musicToggle.innerHTML = '<i class="fas fa-volume-mute"></i>';
                    musicPlaying = false;
                } else {
                    romanticMusic.play();
                    musicToggle.innerHTML = '<i class="fas fa-volume-up"></i>';
                    musicPlaying = true;
                }
            });
            
            // Yes button interaction
            yesBtn.addEventListener('click', function() {
                showRomanticPopup();
                createRomanticConfetti(150);
                if (romanticMusic) romanticMusic.volume = 0.5;
            });
            
            // Yes button progress on hold (romantic gesture)
            yesBtn.addEventListener('mousedown', function() {
                isYesHolding = true;
                progressContainer.style.display = 'block';
                progressBar.style.width = '0%';
                
                const progressInterval = setInterval(() => {
                    if (isYesHolding && yesProgress < 100) {
                        yesProgress += 2;
                        progressBar.style.width = yesProgress + '%';
                        
                        // Create floating hearts during hold
                        if (yesProgress % 20 === 0) {
                            createFloatingHeartFromButton(yesBtn);
                        }
                        
                        if (yesProgress >= 100) {
                            clearInterval(progressInterval);
                            showRomanticPopup();
                            createRomanticConfetti(200);
                            if (romanticMusic) romanticMusic.volume = 0.5;
                        }
                    } else {
                        clearInterval(progressInterval);
                    }
                }, 30);
            });
            
            yesBtn.addEventListener('mouseup', function() {
                isYesHolding = false;
                if (yesProgress < 100) {
                    progressContainer.style.display = 'none';
                    yesProgress = 0;
                }
            });
            
            yesBtn.addEventListener('mouseleave', function() {
                isYesHolding = false;
                if (yesProgress < 100) {
                    progressContainer.style.display = 'none';
                    yesProgress = 0;
                }
            });
            
            // Touch events for mobile
            yesBtn.addEventListener('touchstart', function(e) {
                e.preventDefault();
                isYesHolding = true;
                progressContainer.style.display = 'block';
                progressBar.style.width = '0%';
                
                const progressInterval = setInterval(() => {
                    if (isYesHolding && yesProgress < 100) {
                        yesProgress += 2;
                        progressBar.style.width = yesProgress + '%';
                        
                        if (yesProgress % 20 === 0) {
                            createFloatingHeartFromButton(yesBtn);
                        }
                        
                        if (yesProgress >= 100) {
                            clearInterval(progressInterval);
                            showRomanticPopup();
                            createRomanticConfetti(200);
                            if (romanticMusic) romanticMusic.volume = 0.5;
                        }
                    } else {
                        clearInterval(progressInterval);
                    }
                }, 30);
            });
            
            yesBtn.addEventListener('touchend', function() {
                isYesHolding = false;
                if (yesProgress < 100) {
                    progressContainer.style.display = 'none';
                    yesProgress = 0;
                }
            });
            
            // No button interaction (playful resistance)
            noBtn.addEventListener('mouseover', function() {
                noClicks++;
                counter.textContent = `Tries: ${noClicks}`;
                counter.style.display = 'block';
                
                // Move button to random position
                const maxX = window.innerWidth - noBtn.offsetWidth - 40;
                const maxY = window.innerHeight - noBtn.offsetHeight - 40;
                
                const randomX = Math.random() * maxX + 20;
                const randomY = Math.random() * maxY + 20;
                
                noBtn.style.position = 'fixed';
                noBtn.style.left = randomX + 'px';
                noBtn.style.top = randomY + 'px';
                
                // Change button text and color after certain clicks
                const messages = [
                    {text: "Are you sure? üíî", bg: "linear-gradient(135deg, #ff9800, #ffb74d)", clicks: 3},
                    {text: "My heart is breaking! üò¢", bg: "linear-gradient(135deg, #f44336, #ef5350)", clicks: 5},
                    {text: "Please reconsider? ü•∫", bg: "linear-gradient(135deg, #9c27b0, #ab47bc)", clicks: 7},
                    {text: "You're breaking my heart üíî", bg: "linear-gradient(135deg, #3f51b5, #5c6bc0)", clicks: 9},
                    {text: "Okay, you win my heart! üíñ", bg: "linear-gradient(135deg, #4caf50, #66bb6a)", clicks: 12}
                ];
                
                messages.forEach(msg => {
                    if (noClicks === msg.clicks) {
                        noBtn.innerHTML = `<i class="fas fa-heart"></i> ${msg.text}`;
                        noBtn.style.background = msg.bg;
                        
                        if (noClicks === 12) {
                            noBtn.style.position = 'relative';
                            noBtn.style.left = '0';
                            noBtn.style.top = '0';
                            setTimeout(() => showRomanticPopup(), 500);
                        }
                    }
                });
                
                // Create floating hearts when hovering
                createFloatingHeartFromButton(noBtn);
            });
            
            // Touch event for no button on mobile
            noBtn.addEventListener('touchstart', function() {
                noClicks++;
                counter.textContent = `Tries: ${noClicks}`;
                counter.style.display = 'block';
                
                // On mobile, don't move the button as much
                if (window.innerWidth > 768) {
                    const maxX = window.innerWidth - noBtn.offsetWidth - 40;
                    const maxY = window.innerHeight - noBtn.offsetHeight - 40;
                    
                    const randomX = Math.random() * maxX + 20;
                    const randomY = Math.random() * maxY + 20;
                    
                    noBtn.style.position = 'fixed';
                    noBtn.style.left = randomX + 'px';
                    noBtn.style.top = randomY + 'px';
                }
                
                // Change button text and color after certain clicks
                const messages = [
                    {text: "Are you sure? üíî", bg: "linear-gradient(135deg, #ff9800, #ffb74d)", clicks: 3},
                    {text: "My heart is breaking! üò¢", bg: "linear-gradient(135deg, #f44336, #ef5350)", clicks: 5},
                    {text: "Please reconsider? ü•∫", bg: "linear-gradient(135deg, #9c27b0, #ab47bc)", clicks: 7},
                    {text: "You're breaking my heart üíî", bg: "linear-gradient(135deg, #3f51b5, #5c6bc0)", clicks: 9},
                    {text: "Okay, you win my heart! üíñ", bg: "linear-gradient(135deg, #4caf50, #66bb6a)", clicks: 12}
                ];
                
                messages.forEach(msg => {
                    if (noClicks === msg.clicks) {
                        noBtn.innerHTML = `<i class="fas fa-heart"></i> ${msg.text}`;
                        noBtn.style.background = msg.bg;
                        
                        if (noClicks === 12) {
                            noBtn.style.position = 'relative';
                            noBtn.style.left = '0';
                            noBtn.style.top = '0';
                            setTimeout(() => showRomanticPopup(), 500);
                        }
                    }
                });
                
                createRomanticConfetti(10);
            });
            
            noBtn.addEventListener('click', function() {
                createRomanticConfetti(20);
            });
            
            // Popup functions
            function showRomanticPopup() {
                popup.classList.add('active');
                document.body.style.overflow = 'hidden';
                createRomanticConfetti(250);
                
                // Update popup message based on clicks
                if (noClicks >= 5) {
                    document.querySelector('.popup h2').textContent = "You Finally Said Yes! üíï";
                    const popupParagraphs = document.querySelectorAll('.popup p');
                    if (popupParagraphs.length > 0) {
                        popupParagraphs[0].innerHTML = "I knew you'd come around! My heart was waiting for you all along.<br>Thank you for making me the happiest person today!";
                    }
                }
            }
            
            closePopupBtn.addEventListener('click', function() {
                popup.classList.remove('active');
                document.body.style.overflow = 'auto';
                createRomanticConfetti(50);
            });
            
            // Share functionality
            function openSharePopup() {
                sharePopup.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
            
            function closeSharePopup() {
                sharePopup.classList.remove('active');
                document.body.style.overflow = 'auto';
            }
            
            // WhatsApp sharing
            function shareToWhatsApp() {
                const message = `üíñ I just experienced the most romantic Valentine's proposal! üíñ\n\nCheck out this beautiful romantic proposal created by CodexAG:\n\n${window.location.href || "https://codexag.com/romantic-proposal"}\n\nSpread the love this Valentine's season! ‚ù§Ô∏è`;
                const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }
            
            // Attach WhatsApp share to all WhatsApp buttons
            shareWhatsAppBtns.forEach(btn => {
                btn.addEventListener('click', shareToWhatsApp);
            });
            
            if (directWhatsAppBtn) {
                directWhatsAppBtn.addEventListener('click', shareToWhatsApp);
            }
            
            // Other share buttons open share popup
            shareOtherBtns.forEach(btn => {
                btn.addEventListener('click', openSharePopup);
            });
            
            if (closeSharePopupBtn) {
                closeSharePopupBtn.addEventListener('click', closeSharePopup);
            }
            
            // Social media sharing functions
            function shareOnFacebook() {
                const url = encodeURIComponent(window.location.href || "https://codexag.com/romantic-proposal");
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}`, '_blank');
            }
            
            function shareOnTwitter() {
                const text = encodeURIComponent("üíñ Check out this beautiful romantic Valentine's proposal by @CodexAG! Perfect for your special someone ‚ù§Ô∏è");
                const url = encodeURIComponent(window.location.href || "https://codexag.com/romantic-proposal");
                window.open(`https://twitter.com/intent/tweet?text=${text}&url=${url}`, '_blank');
            }
            
            function copyShareLink() {
                const linkInput = document.getElementById('shareLink');
                if (!linkInput) return;
                
                linkInput.select();
                linkInput.setSelectionRange(0, 99999);
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        // Show feedback
                        const originalText = linkInput.value;
                        linkInput.value = "Link copied to clipboard! üìã";
                        setTimeout(() => {
                            linkInput.value = originalText;
                        }, 2000);
                    }
                } catch (err) {
                    // Fallback for browsers that don't support execCommand
                    navigator.clipboard.writeText(linkInput.value).then(() => {
                        const originalText = linkInput.value;
                        linkInput.value = "Link copied to clipboard! üìã";
                        setTimeout(() => {
                            linkInput.value = originalText;
                        }, 2000);
                    });
                }
            }
            
            // Developer info
            function showDeveloperInfo() {
                alert("üíù CodexAG üíù\n\nCreated with love for Valentine's Day\n\nThis romantic proposal app is designed to help you express your feelings in a beautiful, interactive way.\n\nSpread love and happiness! ‚ù§Ô∏è");
            }
            
            // Create floating heart from button position
            function createFloatingHeartFromButton(button) {
                const rect = button.getBoundingClientRect();
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = 'üíñ';
                heart.style.left = (rect.left + rect.width/2) + 'px';
                heart.style.top = rect.top + 'px';
                heart.style.fontSize = '20px';
                heart.style.animationDuration = '3s';
                heart.style.zIndex = '5';
                romanticBg.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.remove();
                    }
                }, 3000);
            }
            
            // Create romantic confetti
            function createRomanticConfetti(count) {
                const colors = ['#ff4d8d', '#ff85a2', '#e91e63', '#ffc2d1', '#ffd700', '#b76e79', '#ffafcc'];
                const shapes = ['‚ù§Ô∏è', 'üíñ', 'üíó', 'üíì', 'üíò', 'üíù', 'üíï', 'üå∏', 'üåπ'];
                
                // Adjust count based on screen size
                const adjustedCount = Math.min(count, Math.floor((window.innerWidth * window.innerHeight) / 5000));
                
                for (let i = 0; i < adjustedCount; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    
                    // Some confetti are heart shapes
                    if (Math.random() > 0.7) {
                        confetti.innerHTML = shapes[Math.floor(Math.random() * shapes.length)];
                        confetti.style.backgroundColor = 'transparent';
                        confetti.style.fontSize = (Math.random() * 20 + 10) + 'px';
                        confetti.style.width = 'auto';
                        confetti.style.height = 'auto';
                    } else {
                        confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                        confetti.style.width = (Math.random() * 10 + 5) + 'px';
                        confetti.style.height = (Math.random() * 10 + 5) + 'px';
                    }
                    
                    document.body.appendChild(confetti);
                    
                    // Animate confetti
                    const animation = confetti.animate([
                        { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                        { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 720}deg)`, opacity: 0 }
                    ], {
                        duration: Math.random() * 2000 + 1500,
                        easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
                    });
                    
                    // Remove confetti after animation
                    animation.onfinish = () => {
                        if (confetti.parentNode) {
                            confetti.remove();
                        }
                    };
                }
            }
            
            // Add some initial romantic confetti
            setTimeout(() => {
                createRomanticConfetti(15);
            }, 1000);
            
            // Add romantic click effects on the card
            document.querySelector('.proposal-card').addEventListener('click', function(e) {
                if (e.target === this || e.target.classList.contains('card-content')) {
                    createFloatingHeart(e.clientX, e.clientY);
                }
            });
            
            function createFloatingHeart(x, y) {
                const heart = document.createElement('div');
                heart.className = 'floating-heart';
                heart.innerHTML = heartIcons[Math.floor(Math.random() * heartIcons.length)];
                heart.style.left = x + 'px';
                heart.style.top = y + 'px';
                heart.style.fontSize = '20px';
                heart.style.animationDuration = '4s';
                heart.style.zIndex = '5';
                romanticBg.appendChild(heart);
                
                setTimeout(() => {
                    if (heart.parentNode) {
                        heart.remove();
                    }
                }, 4000);
            }
            
            // Auto-hide instructions after 10 seconds
            setTimeout(() => {
                const instructions = document.querySelector('.instructions');
                if (instructions) {
                    instructions.style.opacity = '0.5';
                }
            }, 10000);
            
            // Handle window resize
            let resizeTimeout;
            window.addEventListener('resize', function() {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(() => {
                    // Reposition no button if it's fixed
                    if (noBtn.style.position === 'fixed') {
                        const maxX = window.innerWidth - noBtn.offsetWidth - 40;
                        const maxY = window.innerHeight - noBtn.offsetHeight - 40;
                        
                        const currentX = parseInt(noBtn.style.left) || 0;
                        const currentY = parseInt(noBtn.style.top) || 0;
                        
                        // Ensure button stays within bounds
                        noBtn.style.left = Math.min(Math.max(currentX, 20), maxX) + 'px';
                        noBtn.style.top = Math.min(Math.max(currentY, 20), maxY) + 'px';
                    }
                }, 250);
            });
            
            // Handle orientation change on mobile
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    window.scrollTo(0, 0);
                }, 100);
            });
        });
    </script>
</body>
</html>